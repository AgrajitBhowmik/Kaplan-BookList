(this.webpackJsonpbooklist=this.webpackJsonpbooklist||[]).push([[0],{41:function(e,t,a){},51:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(20),c=a.n(o),s=(a(51),a(6)),l=a(15),i=a(66),u=a(62),b=a(63),j=a(3);var h=function(e){var t=e.loc;return Object(j.jsx)(i.a,{expand:"lg",variant:"primary",bg:"light",className:"mb-3",children:Object(j.jsxs)(u.a,{fluid:!0,children:[Object(j.jsx)(l.b,{to:"/books",children:Object(j.jsx)(i.a.Brand,{children:Object(j.jsx)("b",{children:"BOOKS"})})}),"/books"===t.pathname&&Object(j.jsx)(l.b,{to:"/form/new",children:Object(j.jsx)(b.a,{variant:"outline-primary",children:"Create New Book"})})]})})},d=(a(58),a(31)),O=a(16),f=a(45),v=a(13),x=a(17),m=a.n(x),p=a(65),g=a(67);var D=function(e){var t=e.name,a=e.value,n=e.label,o=e.error,c=e.onChange,s=Object(r.useState)(!0),l=Object(v.a)(s,2),i=(l[0],l[1]);return Object(j.jsxs)(p.a.Group,{children:[Object(j.jsx)(p.a.Label,{htmlFor:t,children:n}),Object(j.jsx)(p.a.Control,{type:"text",value:a,name:t,id:t,onChange:c,placeholder:"Enter ".concat(n)}),o&&Object(j.jsx)(g.a,{className:"bg-danger",onClose:function(){return i(!1)},children:Object(j.jsx)(g.a.Body,{children:Object(j.jsx)("b",{children:o})})})]})},C=a(38),k=[],w=!1;function y(){return k}var S=function(e){var t=e.match,a=Object(r.useState)({bookData:{title:"",authors:"",publisher:"",publishedDate:""},errorData:{}}),n=Object(v.a)(a,2),o=n[0],c=o.bookData,l=o.errorData,i=n[1],h=Object(s.g)();Object(r.useEffect)((function(){!function(){try{if("/form/new"===t.path)i((function(){return{bookData:{title:"",authors:"",publisher:"",publishedDate:""},errorData:{}}}))}catch(e){h.replace("/not-found")}}()}),[]);var x={title:m.a.string().required().label("Title"),authors:m.a.string().required().label("Authors"),publisher:m.a.string().required().label("Publisher"),publishedDate:m.a.string().required().label("Published Date")};function g(e){var t=e.target,a=t.name,r=t.value,n=Object(d.a)({},l),o=function(e,t){var a=Object(O.a)({},e,t),r=Object(O.a)({},e,x[e]),n=m.a.validate(a,r).error;return n?n.details[0].message:null}(a,r);o?n[a]=o:delete n[a],i((function(e){return{bookData:Object(d.a)(Object(d.a)({},e.bookData),{},Object(O.a)({},a,r)),errorData:n}}))}return Object(j.jsx)(u.a,{className:"px-5",children:Object(j.jsxs)(p.a,{onSubmit:function(e){e.preventDefault();var t=function(){var e=m.a.validate(c,x,{abortEarly:!1}).error;if(!e)return null;var t,a={},r=Object(f.a)(e.details);try{for(r.s();!(t=r.n()).done;){var n=t.value;a[n.path[0]]=n.message}}catch(o){r.e(o)}finally{r.f()}return a}();if(i((function(e){return{bookData:c,errorData:t}})),t)console.log(t);else{var a,r=c.title,n=c.authors,o=c.publisher,s=c.publishedDate;a=Object(O.a)({},"volumeInfo",{title:r,authors:n.split(","),publisher:o,publishedDate:s}),k=[a].concat(Object(C.a)(k)),w=!0,h.replace("/")}},children:[Object(j.jsx)(D,{name:"title",value:c.title,label:"Title",onChange:g,error:l.title}),Object(j.jsx)(D,{name:"authors",value:c.authors,label:"Authors",onChange:g,error:l.authors}),Object(j.jsx)(D,{name:"publisher",value:c.publisher,label:"Publisher",onChange:g,error:l.publisher}),Object(j.jsx)(D,{name:"publishedDate",value:c.publishedDate,label:"Published Date",onChange:g,error:l.publishedDate}),Object(j.jsx)(b.a,{variant:"primary",type:"submit",children:"Submit"})]})})};var I=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("h3",{children:"Page Not Found"})})},N=(a(41),a(68)),B=function(e){var t=e.cardsInfo;return Object(j.jsx)("div",{className:"grid",children:t.map((function(e,t){return Object(j.jsx)(N.a,{style:{width:"18rem"},className:"box",children:Object(j.jsxs)(N.a.Body,{children:[Object(j.jsx)(N.a.Title,{children:e.volumeInfo.title}),Object(j.jsx)("hr",{style:{height:"1px",background:"#007bff"}}),Object(j.jsxs)(N.a.Text,{children:["Authors : ",e.volumeInfo.authors.toString()]}),Object(j.jsxs)(N.a.Text,{children:["Publisher : ",e.volumeInfo.publisher]}),Object(j.jsxs)(N.a.Text,{children:["Published Date : ",e.volumeInfo.publishedDate]})]})},t)}))})};var L=function(e){var t=e.value,a=e.handleChange;return Object(j.jsx)("div",{children:Object(j.jsx)("input",{type:"text",placeholder:"search...",value:t,className:"mb-3 ml-3 search",onChange:a})})},P=a(64);var T=function(e){var t=e.variant,a=e.handleShow,r=e.text;return Object(j.jsx)(P.a,{variant:t,onClose:function(){return a(!1)},dismissible:!0,children:Object(j.jsx)(P.a.Heading,{children:r})})};var F=function(e){e.history;var t=Object(r.useState)([]),a=Object(v.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(""),s=Object(v.a)(c,2),l=s[0],i=s[1],b=Object(r.useState)(!1),h=Object(v.a)(b,2),d=h[0],O=h[1];return Object(r.useEffect)((function(){0!=y().length?(o(y()),!0===w&&(O(!0),setTimeout((function(){O(!1)}),3e3),w=!1)):fetch("https://www.googleapis.com/books/v1/volumes?q=kaplan%20test%20prep").then((function(e){return e.json()})).then((function(e){var t;t=e.items,k=Object(C.a)(t),o(y())})).catch((function(e){console.log("Request failed",e)}))}),[]),Object(j.jsxs)(u.a,{fluid:!0,children:[d&&Object(j.jsx)(T,{variant:"success",handleShow:O,text:"New Book Added Successfully"}),Object(j.jsx)(L,{value:l,handleChange:function(e){i(e.target.value);var t=y().filter((function(t){return t.volumeInfo.title.toLowerCase().includes(e.target.value.toLowerCase())||t.volumeInfo.authors.toString().toLowerCase().includes(e.target.value.toLowerCase())||t.volumeInfo.publisher.toLowerCase().includes(e.target.value.toLowerCase())}));o(t)}}),Object(j.jsx)("h4",{className:"ml-3",children:"All Books"}),Object(j.jsxs)("p",{className:"ml-3",children:["Showing ",n.length," books details from the database."]}),Object(j.jsx)(B,{cardsInfo:n})]})},q=Object(s.h)((function(e){var t=e.location;return Object(j.jsxs)(n.a.Fragment,{children:[Object(j.jsx)(h,{loc:t}),Object(j.jsx)("main",{children:Object(j.jsxs)(s.d,{children:[Object(j.jsx)(s.b,{path:"/books",component:F}),Object(j.jsx)(s.b,{path:"/form/new",component:S}),Object(j.jsx)(s.b,{path:"/not-found",component:I}),Object(j.jsx)(s.a,{from:"/",exact:!0,to:"/books"}),Object(j.jsx)(s.a,{to:"/not-found"})]})})]})})),A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,69)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),o(e),c(e)}))};c.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(l.a,{children:Object(j.jsx)(q,{})})}),document.getElementById("root")),A()}},[[60,1,2]]]);
//# sourceMappingURL=main.80fb2c6a.chunk.js.map